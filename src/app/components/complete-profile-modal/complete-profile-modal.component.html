<div class="modal-content">
  <h1 class="font-bold text-lg text-blue-200 mb-3">Registratie afronden</h1>
  <!-- TODO: add text -->
  <form
    [formGroup]="completeProfileForm"
    data-test="form-complete-profile"
    (submit)="onClickSaveProfile()"
  >
    <p>Maak uw registratie compleet om toegang te krijgen tot het platform.</p>
    <!-- TODO: add type radio input properly -->
    <littil-form-input-radio
      formControlName="role"
      id="role"
      label="Rol"
      [radioInputs]="roleChoices"
    >
      <littil-form-error-message
        [customErrors]="{ required: 'Een rol opgeven is verplicht' }"
        controlName="role"
      ></littil-form-error-message>
    </littil-form-input-radio>

    @if(isSchool){
    <littil-form-input-text
      *ngIf="isSchool"
      formControlName="schoolName"
      id="schoolName"
      label="Naam van de school"
      data-test="schoolNameControl"
    >
      <littil-form-error-message
        [customErrors]="{ required: 'Naam van de school is verplicht' }"
        controlName="schoolName"
      ></littil-form-error-message>
    </littil-form-input-text>

    <p class="mb-0 font-bold">Gegevens contactpersoon</p>
    }

    <div class="flex gap-2">
      <littil-form-input-text
        formControlName="firstName"
        id="firstName"
        label="Voornaam"
        class="grow"
      >
        <littil-form-error-message
          [customErrors]="{ required: 'Voornaam is verplicht' }"
          controlName="firstName"
        ></littil-form-error-message>
      </littil-form-input-text>
      <littil-form-input-text
        formControlName="prefix"
        id="prefix"
        label="Tussenvoegsel"
        class="w-1/5"
      >
      </littil-form-input-text>
      <littil-form-input-text
        formControlName="surname"
        id="surname"
        label="Achternaam"
        class="grow"
      >
        <littil-form-error-message
          [customErrors]="{ required: 'Achternaam is verplicht' }"
          controlName="surname"
        ></littil-form-error-message>
      </littil-form-input-text>
    </div>

    <p>
      @if(isSchool){ Om scholen en gastdocenten elkaar te laten vinden, hebben wij het adres van de
      school nodig. Deze gegevens worden niet <br />
      met derden gedeeld en alleen gebruikt om de locatie van de school op de plattegrond te tonen.
      } @else { Om scholen en gastdocenten elkaar te laten vinden, hebben wij uw adres nodig.<br />
      Deze gegevens worden niet met derden gedeeld en alleen gebruikt om uw locatie op de
      plattegrond te tonen. }
    </p>

    <div class="flex gap-2">
      <littil-form-input-text
        formControlName="address"
        id="address"
        label="Straatnaam en huisnummer"
        class="grow"
      >
        <littil-form-error-message
          [customErrors]="{ required: 'Straatnaam en huisnummer is verplicht' }"
          controlName="address"
        ></littil-form-error-message>
      </littil-form-input-text>
      <littil-form-input-text
        formControlName="postalCode"
        id="postalCode"
        label="Postcode"
        maxLength="6"
        class="w-1/3"
      >
        <littil-form-error-message
          [customErrors]="{
            required: 'Postcode is verplicht',
            pattern: 'Voer een correct Nederlands postcode in'
          }"
          controlName="postalCode"
        ></littil-form-error-message>
      </littil-form-input-text>
    </div>
  </form>

  <littil-button [inline]="true" [disabled]="savingProfile" (click)="onClickSaveProfile()">
    Profiel opslaan
  </littil-button>
  <littil-button
    [inline]="true"
    [disabled]="savingProfile"
    colorClass="bg-yellow-200"
    (click)="logOut()"
  >
    Uitloggen
  </littil-button>
  <p *ngIf="savingProfile">Uw profiel wordt opgeslagen</p>
</div>
